#row.names(cool) <- subjects
setwd("./James_Courses/data_science_spec/getting_and_cleaning_data/tidy_project/tidy_set")
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
cool <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subjects")
add_subjects <- cbind(subjects,cool)
add_activities <- cbind(activities = activities,add_subjects)
colnames(add_activities)["V1"] <- "act_cat"
tidy_data_set <- add_activities
rm(list=setdiff(ls(), "tidy_data_set"))
#row.names(cool) <- subjects
head(add_activities)
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
cool <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subjects")
add_subjects <- cbind(subjects,cool)
add_activities <- cbind(activities = activities,add_subjects)
colnames(add_activities)["V1"] <- "act_cat"
tidy_data_set <- add_activities
head(add_activities)
add_activities$V1
?colnames
test <- dude = c(1,2,3,4,6)
add_activities <- dude = c(1,2,3,4,6)
test["dude"] = c(1,2,3,4,6)
test <- c(1,2,5,6)
test
test["cool"] <- c(5,2,6,3)
add_activities["cool"] <- c(5,2,6,3)
add_activities["cool"] <- rep(0,length(add_activities))
length(add_activites)
length(add_activities)
nrow(add_activities)
add_activities["cool"] <- rep(0,nrow(add_activities))
head(add_activities)
?colname
?colnames
colnames(add_activities)["cool"] <-"dude"
colnames(add_activities)[length(add_activities)] <-"dude"
head(add_activities)
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
cool <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subjects")
add_subjects <- cbind(subjects,cool)
add_activities <- cbind(activities = activities,add_subjects)
colnames(add_activities)[1] <- "act_cat"
tidy_data_set <- add_activities
rm(list=setdiff(ls(), "tidy_data_set"))
#row.names(cool) <- subjects
head(add_activities)
head(tidy_data_set)
??melt
?ddply
??ddply
dude <- ddply(tidy_data_set,.(act_cat,subjects),numcolwise(mean))
install.packages("ddply")
install.packages("plyr")
library(plyr)
dude <- ddply(tidy_data_set,.(act_cat,subjects),numcolwise(mean))
head(dude)
?require
require("plyr")
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
#library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
cool <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subjects")
add_subjects <- cbind(subjects,cool)
add_activities <- cbind(activities = activities,add_subjects)
colnames(add_activities)[1] <- "act_cat"
tidy_data_set <- add_activities
rm(list=setdiff(ls(), "tidy_data_set"))
#row.names(cool) <- subjects
require("plyr")
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
#library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
cool <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subjects")
add_subjects <- cbind(subjects,cool)
add_activities <- cbind(activities = activities,add_subjects)
colnames(add_activities)[1] <- "act_cat"
#tidy_data_set <- add_activities
tidy_data_set <- ddply(add_activities,.(act_cat,subjects),numcolwise(mean))
rm(list=setdiff(ls(), "tidy_data_set"))
#row.names(cool) <- subjects
head(tidy_data_set)
tidy_data_set
tidy_data_set
summary(tidy_data_set)
head(tidy_data_set)
tail(tidy_data_set)
?write.table
require("plyr")
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
#library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
cool <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subjects")
add_subjects <- cbind(subjects,cool)
add_activities <- cbind(activities = activities,add_subjects)
colnames(add_activities)[1] <- "act_cat"
#tidy_data_set <- add_activities
tidy_data_set <- ddply(add_activities,.(act_cat,subjects),numcolwise(mean))
rm(list=setdiff(ls(), "tidy_data_set"))
#row.names(cool) <- subjects
write.table(tidy_data_set,"./tidy_data_set.txt")
install.packages("gridExtra")
library(gridExtra)
pdf("tidy_data_set.pdf", height=11, width=8.5)
grid.table(tidy_data_set)
dev.off()
print.data.fram(tidy_data_set)
print.data.frame(tidy_data_set)
print.data.frame(tidy_data_set)
print.data.frame(tidy_data_set)
dev.off()
pdf("tidy_data_set.pdf", height=11, width=8.5)
print.data.frame(tidy_data_set)
dev.off()
pdf("tidy_data_set.pdf", height=11, width=8.5)
grid.table(print.data.frame(tidy_data_set))
dev.off()
library(gridExtra); maxrow = 30; npages = ceiling(nrow(iris)/maxrow); pdf("iris_pages.pdf", height=11, width=8.5); for (i in 1:npages) {idx = seq(1+((i-1)*maxrow), i*maxrow); grid.newpage(); grid.table(tidy_data_set[idx, ])}; dev.off()
library(gridExtra); maxrow = 30; npages = ceiling(nrow(tidy_data_set)/maxrow); pdf("iris_pages.pdf", height=11, width=8.5); for (i in 1:npages) {idx = seq(1+((i-1)*maxrow), i*maxrow); grid.newpage(); grid.table(tidy_data_set[idx, ])}; dev.off()
head(tidy_data_set,n=20)
head(tidy_data_set,n=20)
require("plyr")
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
#library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
filtered_data <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subject")
add_activities <- cbind(activities,filtered_data)
add_subjects <- cbind(subjects,add_activities)
#add_subjects <- cbind(subjects,cool)
#add_activities <- cbind(activities = activities,add_subjects)
colnames(add_activities)[1] <- "act_cat"
#tidy_data_set <- add_activities
tidy_data_set <- ddply(add_activities,.(act_cat,subjects),numcolwise(mean))
rm(list=setdiff(ls(), "tidy_data_set"))
#row.names(cool) <- subjects
write.table(tidy_data_set,"./tidy_data_set.txt")
head(add_activities)
require("plyr")
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
#library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
filtered_data <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subject")
add_activities <- cbind(activities,filtered_data)
add_subjects <- cbind(subjects,add_activities)
#add_subjects <- cbind(subjects,cool)
#add_activities <- cbind(activities = activities,add_subjects)
colnames(add_subjects)[1] <- "act_cat"
#tidy_data_set <- add_activities
tidy_data_set <- ddply(add_subjects,.(act_cat,subjects),numcolwise(mean))
rm(list=setdiff(ls(), "tidy_data_set"))
#row.names(cool) <- subjects
write.table(tidy_data_set,"./tidy_data_set.txt")
head(add_subjects)
require("plyr")
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
#library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
filtered_data <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subject")
add_activities <- cbind(activities,filtered_data)
add_subjects <- cbind(subjects,add_activities)
#add_subjects <- cbind(subjects,cool)
#add_activities <- cbind(activities = activities,add_subjects)
colnames(add_subjects)[1] <- "act_cat"
#tidy_data_set <- add_activities
tidy_data_set <- ddply(add_subjects,.(act_cat,subjects),numcolwise(mean))
head(add_subjects)
require("plyr")
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
#library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
filtered_data <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subject")
add_activities <- cbind(activities,filtered_data)
add_subjects <- cbind(subjects,add_activities)
#add_subjects <- cbind(subjects,cool)
#add_activities <- cbind(activities = activities,add_subjects)
colnames(add_subjects)[2] <- "act_cat"
#tidy_data_set <- add_activities
tidy_data_set <- ddply(add_subjects,.(act_cat,subjects),numcolwise(mean))
rm(list=setdiff(ls(), "tidy_data_set"))
#row.names(cool) <- subjects
write.table(tidy_data_set,"./tidy_data_set.txt")
require("plyr")
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
#library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
filtered_data <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subject")
add_activities <- cbind(activities,filtered_data)
add_subjects <- cbind(subjects,add_activities)
#add_subjects <- cbind(subjects,cool)
#add_activities <- cbind(activities = activities,add_subjects)
colnames(add_subjects)[2] <- "act_cat"
#tidy_data_set <- add_activities
tidy_data_set <- ddply(add_subjects,.(act_cat,subject),numcolwise(mean))
rm(list=setdiff(ls(), "tidy_data_set"))
#row.names(cool) <- subjects
write.table(tidy_data_set,"./tidy_data_set.txt")
head(add_subjects)
head(tidy_data_set)
require("plyr")
# installed and loaded stringi package for stri_sub function to extract mean() and std() from headers
#library(stringi)
X_train <- read.table("./UCI HAR Dataset/train/X_train.txt")
X_test <- read.table("./UCI HAR Dataset/test/X_test.txt")
#data <-append(X_train, X_test, after = length(X_train))
data <- rbind(X_train,X_test)
#header <- as.vector(read.table("./UCI HAR Dataset/features.txt"))
header <- read.table("./UCI HAR Dataset/features.txt")$V2
names(data) <- header
keeps <- grepl("mean()",names(data), fixed = TRUE) | grepl("std()",names(data), fixed = TRUE)
filtered_data <- data[,keeps]
#dim(data)
subject_train <- read.table("./UCI HAR Dataset/train/subject_train.txt")
subject_test <- read.table("./UCI HAR Dataset/test/subject_test.txt")
subjects <- rbind(subject_train,subject_test)
activity_train <- read.table("./UCI HAR Dataset/train/y_train.txt")
activity_test <- read.table("./UCI HAR Dataset/test/y_test.txt")
activities <- rbind(activity_train,activity_test)
activities_key <- read.table("./UCI HAR Dataset/activity_labels.txt")
#activities <- within(activities,activities_key <- factor(activities_key, labels = c("Walking","Walking_Upstairs","Walking_Downstairs","Sitting","Standing","Laying")))
#activities <- within(activities,activities_key)
activities$V1[activities$V1 == 1] <- as.character(activities_key[1,2])
activities$V1[activities$V1 == 2] <- as.character(activities_key[2,2])
activities$V1[activities$V1 == 3] <- as.character(activities_key[3,2])
activities$V1[activities$V1 == 4] <- as.character(activities_key[4,2])
activities$V1[activities$V1 == 5] <- as.character(activities_key[5,2])
activities$V1[activities$V1 == 6] <- as.character(activities_key[6,2])
names(subjects) <- c("subject")
add_activities <- cbind(activities,filtered_data)
add_subjects <- cbind(subjects,add_activities)
#add_subjects <- cbind(subjects,cool)
#add_activities <- cbind(activities = activities,add_subjects)
colnames(add_subjects)[2] <- "act_cat"
#tidy_data_set <- add_activities
tidy_data_set <- ddply(add_subjects,.(subject,act_cat),numcolwise(mean))
rm(list=setdiff(ls(), "tidy_data_set"))
#row.names(cool) <- subjects
write.table(tidy_data_set,"./tidy_data_set.txt")
head(tidy_data_set)
tidy_data_set[1:100,1:6]
tidy_data_set[1:200,1:6]
tidy_data_set[1:180,1:6]
tidy_data_set[1:180,1:6]
